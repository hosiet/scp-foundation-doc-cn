<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pl" lang="pl">

<head>
    <title>Tworzenie debuggerów - WWW 10</title>
    
    
    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--edac79f846ba/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--edac79f846ba';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "warsztatywww.wikidot.com";
        WIKIREQUEST.info.siteId = 64353;
        WIKIREQUEST.info.siteUnixName = "warsztatywww";
        WIKIREQUEST.info.categoryId = 3438612;
        WIKIREQUEST.info.themeId = 25;
        WIKIREQUEST.info.requestPageName = "www9:tworzenie-debuggerow";
        OZONE.request.timestamp = 1487493130;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'pl';
                WIKIREQUEST.info.pageUnixName = "www9:tworzenie-debuggerow";
        WIKIREQUEST.info.pageId = 17955220;
                        WIKIREQUEST.info.lang = "pl";
        OZONE.lang = "pl";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="pl"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--edac79f846ba/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--edac79f846ba/common--theme/base/css/style.css);
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--edac79f846ba/common--theme/cappuccino/css/style.css);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="/local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="/local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="/common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-16827888-1']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
    </head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>

<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="/"><span>WWW 10</span></a></h1>
                
                    <h2><span>Wakacyjne Warsztaty Wielodyscyplinarne 9</span></h2>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Szukaj" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Szukaj"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<img src="/local--files/nav:top/logo.gif" alt="logo.gif" class="image" />
                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Załóż konto</a> <span>lub</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Zaloguj się</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        

<p>WWW11</p>
<ul>
<li><a href="/start">Strona główna</a></li>
<li><a href="/www11:program">Program WWW11</a></li>
<li><a href="/www11:rejestracja">Rejestracja na WWW11</a></li>
<li><a href="/dla-prowadzacych">Dla prowadzących</a></li>
<li><a href="/organizatorzy">Organizatorzy</a></li>
</ul>
<hr />
<ul>
<li><a href="/historia">Historia, zdjęcia i relacje</a></li>
<li>np. <a href="/www10:program">Program WWW10</a></li>
</ul>
<hr />
<ul>
<li><a href="/drogowskaz-pasjonata">Drogowskaz Pasjonata</a></li>
<li><a href="/en:indie-camp-for-hs-geeks">An article on this camp</a> (for gifted high-school students)</li>
<li><a href="/linki">Linki</a></li>
</ul>
<hr />
<ul>
<li><a href="/en">In English</a></li>
<li><a href="http://www.facebook.com/groups/278425497876/">WWW na Facebooku</a></li>
</ul>
<p><iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwarsztatywww.wikidot.com%2F&amp;width=170&amp;layout=standard&amp;action=like&amp;show_faces=true&amp;share=true&amp;height=80&amp;appId=262622227112392" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:170px; height:80px;" allowtransparency="true"></iframe></p>
<div class="social-frame google">
<p><iframe src="/nav:side/html/31613c75573c4e7f486366d06df834d3bb357d41-17208489961140958001" allowtransparency="true" frameborder="0" class="html-block-iframe"></iframe></p>
</div>
<p><iframe src="/nav:side/html/12d37ed3bc03a7e3fbdbeed05cacf5135804a060-19651179781313192100" allowtransparency="true" frameborder="0" class="html-block-iframe"></iframe></p>

                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            Tworzenie debuggerów
                        </div>
                    

                    

                    



                    <div id="page-content">
                        

<div id="toc" class="floatright">
<div id="toc-action-bar"><a href="javascript:;" onclick="WIKIDOT.page.listeners.foldToc(event)">Zwiń</a><a style="display: none" href="javascript:;" onclick="WIKIDOT.page.listeners.unfoldToc(event)">Rozwiń</a></div>
<div class="title">Table of Contents</div>
<div id="toc-list">
<div style="margin-left: 1em;"><a href="#toc0">Prowadzący</a></div>
<div style="margin-left: 1em;"><a href="#toc1">Opis</a></div>
<div style="margin-left: 1em;"><a href="#toc2">Po co?</a></div>
<div style="margin-left: 1em;"><a href="#toc3">Program zajęć</a></div>
<div style="margin-left: 1em;"><a href="#toc4">Wymagania</a></div>
<div style="margin-left: 1em;"><a href="#toc5">Zadania kwalifikacyjne</a></div>
<div style="margin-left: 1em;"><a href="#toc6">Materiały pomocnicze</a></div>
</div>
</div>
<h1 id="toc0"><span>Prowadzący</span></h1>
<p><a href="/michal-kowalczyk">Michał Kowalczyk</a></p>
<h1 id="toc1"><span>Opis</span></h1>
<p>Na warsztatach napiszemy własny debugger (dla programów Windowsowych x86) oraz pobawimy się jego różnymi zastosowaniami, m.in. wizualizacją wykonywania programów. Omówimy implementację wszystkich użytecznych funkcji debuggera, ale zaimplementujemy tylko te które będą nam potrzebne do wizualizacji. Porozmawiamy też o wadach i zaletach klasycznego podejścia do debugowania (przez systemowe API) oraz innych sposobach na kontrolowanie/monitorowanie wykonania programu (np instrumentacja, emulacja i wiele innych) oraz kiedy które z nich najlepiej stosować.</p>
<p>Bardziej technicznie:<br />
- będziemy pisać w czystym WinAPI<br />
- będziemy dezassemblować (distormem) i analizować wykonywane instrukcje (czytaj: będzie dużo asma)<br />
- dam wszystkim nakładkę do rysowania wizualizacji, żeby niepotrzebnie nie tracić czasu na offtop<br />
- przerobimy wszystkie możliwe typy breakpointów, ich wady i zalety (np breakpointy na odczyt fragmentu pamięci)<br />
- podyskutujemy o metodach śledzenia wykonania kodu (trap flag i inne)<br />
- piszemy w visualu, nie w devie<br />
- warsztaty będą trudne, więc zadania kwalifikacyjne również</p>
<h1 id="toc2"><span>Po co?</span></h1>
<p>Czasami potrzebna jest możliwość kontrolowanego uruchomienia programu/zliczenia wywołań jakiejś funkcji/podmiana wyników jakiejś funkcji WinAPI i wiele innych, w tym celu bardzo przydatna jest umiejętność napisania własnego debuggera. Dzięki temu zrozumiemy też jak dokładnie działają zwykłe debuggery (np te wbudowane w różne IDE) i będziemy w stanie lepiej ich używać (np dowiemy się czemu breakpointy na pamięć bardzo spowalniają program, oraz jak tego uniknąć).</p>
<h1 id="toc3"><span>Program zajęć</span></h1>
<p>A raczej jego szkic, to że czegoś tu nie ma, nie znaczy, że tego nie omówimy ;)</p>
<p>I dzień (teoria)<br />
- trochę o architekturze x86 i działaniu Windowsa<br />
- jak działają wyjątki i DebugAPI<br />
- jak się debuguje (jak się robi breakpointy (hardware/software/mem), step into, step over i maasa innych)<br />
- inne pomysły na kontrolowanie wykonania<br />
II dzień (kodzenie debuggera)<br />
- projekt i rozplanowanie kodu<br />
- kodzenie<br />
III dzień (kodzenie wizualizacji)<br />
- trochę teorii<br />
- kodzenie</p>
<h1 id="toc4"><span>Wymagania</span></h1>
<p>- dobra znajomość assemblera (wystarczą instrukcje używane w ring3, znajomość podstawowych rejestrów i różnych konwencji wywoływania funkcji (np cdecl))<br />
- dobra znajomość C/C++ (wskaźniki, ręczna alokacja pamięci (malloc+free oraz new+delete) itp.)<br />
- znajomość Windowsa (skill w sapera się nie liczy ;) ) i podstaw WinAPI (umiejętność tworzenia wątków, operowania na innych procesach itp.)<br />
- ogarnianie systemów operacyjnych (czyli czym się różnią wątki od procesów, pamięć wirtualna itd.)</p>
<h1 id="toc5"><span>Zadania kwalifikacyjne</span></h1>
<p><strong>1. [WinAPI] 2pkt</strong> Napisz program który wyświetla listę aktualnie uruchomionych procesów, umożliwia wybranie któregoś z nich i wyświetlenie listy jego wątków, a następnie zatrzymywanie i wznawianie wybranego przez użytkownika wątku. Nie musi być GUI, ale fajnie jakby było jakieś proste ;)<br />
<strong>2. [Asm] 4pkt</strong> Ściągnij program: <a href="http://securitytraps.no-ip.pl/KeygenMe.exe">&lt;klik&gt;</a> i wygeneruj dla swojego imienia i nazwiska (&quot;Imie_Nazwisko&quot;) 10 działających kluczy. Do rozwiązania przyda się debugger, np <a href="http://www.ollydbg.de/odbg201h.zip">OllyDbg2</a>. Twoim celem jest znalezienie algorytmu weryfikacji klucza, przeanalizowanie kodu w asemblerze i złamanie go. W razie problemów z uruchomieniem exeka ściągnij <a href="https://www.microsoft.com/en-us/download/details.aspx?id=30679">Visual 2012 Redistributable</a>.</p>
<p>Rozwiązania wysyłajcie na maila <span class="wiki-email">moc.liamg|31wokm#moc.liamg|31wokm</span>, w razie problemów/pytań śmiało piszcie ;)</p>
<h1 id="toc6"><span>Materiały pomocnicze</span></h1>
<p>Seria Reverse Craft: <a href="http://re.coldwind.pl/">http://re.coldwind.pl/</a><br />
Zestaw bardzo dobrych video-tutoriali o RE, w dodatku po polsku, przyda się do zadania 2. ;)<br />
Dla nieznających asma:<br />
- W powyższej serii są też odcinki o asmie.<br />
- <a href="http://4programmers.net/Assembler/Instrukcje_procesor%C3%B3w_8086-Pentium">http://4programmers.net/Assembler/Instrukcje_procesor%C3%B3w_8086-Pentium</a> - opisy sporej części instrukcji asma x86 (jak działają)<br />
- Magiczne Shift+F1 na jakiejś instrukcji w OllyDbg, polecam :)<br />
- MSDN (dokumentacja WinAPI i nie tylko)</p>

                    </div>

                    



                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            <div id="page-info">wersja strony: 13, ostatnia edycja: <span class="odate time_1371427542 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%20%28%25O%20temu%29">17 Jun 2013 00:05</span></div>
            <div id="page-options-bottom"  class="page-options-bottom">
            <a href="javascript:;" class="btn btn-default" id="edit-button">Edytuj</a>
<a href="javascript:;" class="btn btn-default" id="tags-button">Tagi</a>

<a href="javascript:;" class="btn btn-default" id="history-button">Historia</a>
<a href="javascript:;" class="btn btn-default" id="files-button">Pliki</a>
<a href="javascript:;" class="btn btn-default" id="print-button">Drukuj</a>
<a href="javascript:;" class="btn btn-default" id="site-tools-button">Narzędzia</a>
<a href="javascript:;" class="btn btn-default" id="more-options-button">+&nbsp;Opcje</a> 
</div>
<div id="page-options-bottom-2" class="page-options-bottom form-actions" style="display:none">
    <a href="javascript:;" class="btn btn-default" id="edit-sections-button">Edytuj sekcje</a>
    <a href="javascript:;" class="btn btn-default" id="edit-append-button">Dołącz tekst</a>
    <a href="javascript:;" class="btn btn-default" id="edit-meta-button">Edytuj tagi meta</a>
    <a href="javascript:;" class="btn btn-default" id="watchers-button">Obserwowane przez</a> 
    <a href="javascript:;" class="btn btn-default" id="backlinks-button">Linki zwrotne</a> 
    <a href="javascript:;" class="btn btn-default" id="view-source-button">Źródło strony</a> 
    <a href="javascript:;" class="btn btn-default" id="parent-page-button">Strona nadrzędna</a> 
    <a href="javascript:;" class="btn btn-default" id="page-block-button">Zablokuj stronę</a>    
    <a href="javascript:;" class="btn btn-default" id="rename-move-button">Zmień nazwę</a> 
    <a href="javascript:;" class="btn btn-default" id="delete-button">Usuń</a> 
</div>
<div id="page-options-area-bottom">
</div>

                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Pomoc</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Regulamin</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Prywatność</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Zgłoś błąd</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Zgłoś nadużycie</a>
</div>
Umieszczone na <a href="http://www.wikidot.com">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    O ile nie zaznaczono inaczej, treść tej strony objęta jest licencją <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>



</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Kliknij aby edytować zawartość strony.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Dopisz treść na koniec strony.    </div>
    <div id="history-button-hovertip">
        Zobacz historię zmian tej strony.    </div>
    <div id="discuss-button-hovertip">
        Jeśli chcesz zobaczyć dyskusję o tej stronie - kliknij.    </div>
    <div id="files-button-hovertip">
        Zobacz informacje o dołączonych do tej strony plikach.    </div>
    <div id="site-tools-button-hovertip">
        Kilka użytecznych narzędzi.    </div>
    <div id="backlinks-button-hovertip">
        Zobacz strony które linkują do tej strony lub ją importują.    </div>
    <div id="rename-move-button-hovertip">
        Zmień nazwę (a także adres URL lub kategorię) tej strony.    </div>
    <div id="view-source-button-hovertip">
        Zobacz źródło tej strony (bez jej edycji).    </div>
    <div id="parent-page-button-hovertip">  
        Ustaw stronę nadrzędną (ułatwia nawigację).    </div>
            <div id="abuse-report-button-hovertip">
            Powiadom administratorów o niewłaściwej zawartości strony.        </div>
        <div id="bug-report-button-hovertip">
            Coś nie działa jak powinno? Zobacz co możesz zrobić.        </div>
        <div id="wikidot-help-button-hovertip">
            Sekcja dokumentacji i pomocy na Wikidot.com.        </div>
        <div id="wikidot-tos-button-hovertip">
            Regulamin serwisu Wikidot.com - co można, czego nie itp.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Polityka prywatności Wikidot.com.          
        </div>
    </div>
</body>
</html>