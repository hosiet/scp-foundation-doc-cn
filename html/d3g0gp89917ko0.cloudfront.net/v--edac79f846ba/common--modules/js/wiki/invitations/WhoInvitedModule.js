WIKIDOT.modules.WhoInvitedModule={};WIKIDOT.modules.WhoInvitedModule.vars={currentUserId:null};WIKIDOT.modules.WhoInvitedModule.listeners={lookUp:function(c){var a=WIKIDOT.modules.WhoInvitedModule.vars.currentUserId;if(a==null){alert("No member has been selected yet.");YAHOO.util.Event.preventDefault(c);return}var b=new Object();b.userId=a;OZONE.ajax.requestModule("wiki/invitations/WhoInvitedResultsModule",b,WIKIDOT.modules.WhoInvitedModule.callbacks.lookUp);YAHOO.util.Event.preventDefault(c)}};WIKIDOT.modules.WhoInvitedModule.callbacks={lookUp:function(a){if(!WIKIDOT.utils.handleError(a)){return}$j("#who-invited-results-box").html(a.body)}};WIKIDOT.modules.WhoInvitedModule.init=function(){OZONE.dom.onDomReady(function(){var a=new YAHOO.util.XHRDataSource("/quickmodule.php");a.responseType=YAHOO.util.XHRDataSource.TYPE_JSON;a.responseSchema={resultsList:"users",fields:["name","user_id"]};var b=new YAHOO.widget.AutoComplete("user-lookup","user-lookup-list",a);b.generateRequest=function(c){return"?s="+WIKIREQUEST.info.siteId+"&module=MemberLookupQModule&q="+c};b.itemSelectEvent.subscribe(function(f,c){var d=c[1].getElementsByTagName("div").item(0).id.replace(/.*?([0-9]+)$/,"$1");var e=c[1].getElementsByTagName("div").item(0).innerHTML;WIKIDOT.modules.WhoInvitedModule.vars.currentUserId=d});b.minQueryLength=2;b.queryDelay=0.5;b.forceSelection=true;b.formatResult=function(c,f){var d=c[0];var e=c[1];if(d!=null){return'<div id="user-autocomplete-'+e+'">'+d+"</div>"}else{return""}}},"dummy-ondomready-block")};WIKIDOT.modules.WhoInvitedModule.init();